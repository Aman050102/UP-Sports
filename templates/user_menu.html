{% load static %}
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <title>UP-FMS · เมนูหลักสำหรับนิสิตและบุคลากร</title>
  <meta name="color-scheme" content="light dark">
  <link rel="icon" href="{% static 'img/Logo_of_University_of_Phayao.svg.png' %}" type="image/png">
  <link rel="stylesheet" href="{% static 'assets/css/user-menu.css' %}">

  <script src="{% static 'js/CheckOut.js' %}" defer></script>

  <link rel="stylesheet" href="{% static 'assets/css/checkout.css' %}">

  
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <img src="{% static 'img/logoDSASMART.png' %}" alt="DSA" class="brand-logo">
    </div>

    <div class="righttools">
      <span class="user-btn" aria-label="ผู้ใช้ปัจจุบัน">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M20 21a8 8 0 0 0-16 0" />
          <circle cx="12" cy="7" r="4" />
        </svg>
        {{ display_name }}
      </span>

      <a href="{% url 'logout' %}" class="logout" title="ออกจากระบบ" aria-label="ออกจากระบบ">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
          <path d="M16 17l5-5-5-5" />
          <path d="M21 12H9" />
        </svg>
        ออกจากระบบ
      </a>
    </div>
  </header>

  <main>
    <div class="section-title">เมนูหลักสำหรับนิสิตและบุคลากร</div>

    <section class="grid" aria-label="เมนูด่วน">

      <!-- Check in -->
      <a class="tile" href="{% url 'choose' %}">
        <div class="tile-inner">
          <svg viewBox="0 0 24 24" width="130" height="130" aria-hidden="true">
            <rect x="3"  y="3"  width="6" height="6" stroke="currentColor" stroke-width="2" fill="none"/>
            <rect x="15" y="3"  width="6" height="6" stroke="currentColor" stroke-width="2" fill="none"/>
            <rect x="3"  y="15" width="6" height="6" stroke="currentColor" stroke-width="2" fill="none"/>
            <path d="M15 15h2v2h-2zM19 15h2v2h-2zM15 19h2v2h-2z" fill="currentColor"/>
          </svg>
          <b>Check in</b>
          <small>เช็คอินเข้าสนาม</small>
        </div>
      </a>

      <!-- Check out (สระว่ายน้ำ) -> เปิดป๊อปอัพ -->
      <button class="tile" type="button" id="btn-open-checkout" aria-haspopup="dialog" aria-controls="checkout-modal">
        <div class="tile-inner">
          <svg viewBox="0 0 24 24" width="130" height="130" aria-hidden="true">
            <!-- ไอคอนสระน้ำ + ออกจากระบบ -->
            <path d="M2 18c2-2 4-2 6 0s4 2 6 0 4-2 6 0" stroke="currentColor" stroke-width="2" fill="none"/>
            <circle cx="7" cy="8" r="2" fill="currentColor"/>
            <path d="M16 4l5 5m0-5l-5 5" stroke="currentColor" stroke-width="2" fill="none"/>
          </svg>
          <b>Check out</b>
          <small>เฉพาะผู้ใช้สระ</small>
        </div>
      </button>

      <!-- ยืม-คืนอุปกรณ์ -->
      <a class="tile" href="{% url 'staff_equipment' %}">
        <div class="tile-inner">
          <svg viewBox="0 0 24 24" width="130" height="130" aria-hidden="true">
            <!-- ลูกบาส/ฟุตบอล + ลูกแบด -->
            <circle cx="7"  cy="7"  r="4" stroke="currentColor" stroke-width="2" fill="none"/>
            <path d="M5 7h4M7 5v4" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="17" cy="7"  r="4" stroke="currentColor" stroke-width="2" fill="none"/>
            <path d="M17 3v8M13 7h8" stroke="currentColor" stroke-width="1.5"/>
            <path d="M9 17l3 5 3-5-3-5z" stroke="currentColor" stroke-width="2" fill="none"/>
            <circle cx="12" cy="22" r="1.6" fill="currentColor"/>
          </svg>
          <b>ยืม-คืน อุปกรณ์กีฬา</b>
          <small>บาส · ฟุตบอล · แบดมินตัน</small>
        </div>
      </a>

      <!-- จองสนามแบดมินตัน -->
      <a class="tile" href="{% url 'staff_badminton_booking' %}">
        <div class="tile-inner">
          <svg viewBox="0 0 24 24" width="130" height="130" aria-hidden="true">
            <path d="M6 2l6 8-2 12" stroke="currentColor" stroke-width="2" fill="none"/>
            <path d="M18 2l-6 8 2 12" stroke="currentColor" stroke-width="2" fill="none"/>
            <circle cx="12" cy="22" r="2" fill="currentColor"/>
          </svg>
          <b>จองสนามแบดมินตัน</b>
          <small>เลือกคอร์ท</small>
        </div>
      </a>

    </section>
  </main>

  <!-- ===== Modal ยืนยัน Check out ===== -->
  <div class="modal-backdrop" id="checkout-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="checkout-title">
    <div class="modal-card">
      <h2 class="modal-title" id="checkout-title">check out</h2>
        <p class="modal-text">โปรดยืนยันการ check out<br>เพื่อออกจากสระว่ายน้ำ</p>

      <div class="modal-actions">
        <button type="button" class="btn btn-ok" id="btn-confirm">
          <!-- ✔ -->
          <svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="2"/><path d="M8 12l3 3 5-6" fill="none" stroke="currentColor" stroke-width="2"/></svg>
          ตกลง
        </button>
        <button type="button" class="btn btn-cancel" id="btn-cancel">
          <!-- ✖ -->
          <svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="2"/><path d="M9 9l6 6M15 9l-6 6" fill="none" stroke="currentColor" stroke-width="2"/></svg>
          ยกเลิก
        </button>
      </div>
    </div>
  </div>

  <!-- ===== แผ่นการ์ด “สำเร็จ” ===== -->
  <div class="sheet-ok" id="sheet-ok" aria-hidden="true">
    <div class="sheet-card">
      <div class="sheet-title">check out<br>สำเร็จ</div>
      <div class="sheet-icon">✔️</div>
    </div>
  </div>

  
</body>
</html>